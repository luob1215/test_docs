(self.webpackChunkdeno_docs=self.webpackChunkdeno_docs||[]).push([[922],{46174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>m});var a=n(87462),o=(n(67294),n(3905)),i=n(36141);const l={},r="Domains",s={unversionedId:"api/rest/domains",id:"api/rest/domains",title:"Domains",description:"Custom domains can be used to give your deployments a unique URL.",source:"@site/deploy/api/rest/domains.md",sourceDirName:"api/rest",slug:"/api/rest/domains",permalink:"/deploy/api/rest/domains",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"deployAPIHome",previous:{title:"Deployments",permalink:"/deploy/api/rest/deployments"}},d={},m=[{value:"List an organization&#39;s domains",id:"list-an-organizations-domains",level:2},{value:"Add a domain to an organization",id:"add-a-domain-to-an-organization",level:2},{value:"Get a domain by ID",id:"get-a-domain-by-id",level:2},{value:"Associate a domain with a deployment",id:"associate-a-domain-with-a-deployment",level:2},{value:"Delete a domain",id:"delete-a-domain",level:2},{value:"Verify a domain",id:"verify-a-domain",level:2},{value:"Upload TLS certificate for a domain",id:"upload-tls-certificate-for-a-domain",level:2},{value:"Provision TLS certificates for a domain",id:"provision-tls-certificates-for-a-domain",level:2}],c={toc:m},p="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"domains"},"Domains"),(0,o.kt)("p",null,"Custom domains can be used to give your deployments a unique URL."),(0,o.kt)("h2",{id:"list-an-organizations-domains"},"List an organization's domains"),(0,o.kt)(i.Z,{path:"/organizations/{organizationId}/domains",method:"get",mdxType:"OpenApiEndpoint"},"Get a list of domains associated with an organization. Links to the first, last, next, and previous pages of results are found in the ",(0,o.kt)("code",null,"Link"),"\xa0header of the response."),(0,o.kt)("h2",{id:"add-a-domain-to-an-organization"},"Add a domain to an organization"),(0,o.kt)(i.Z,{path:"/organizations/{organizationId}/domains",method:"post",mdxType:"OpenApiEndpoint"},"Add a new domain to the specified organization. Before use, added domain needs to be verified, and TLS certificates for the domain need to be provisioned."),(0,o.kt)("h2",{id:"get-a-domain-by-id"},"Get a domain by ID"),(0,o.kt)(i.Z,{path:"/domains/{domainId}",method:"get",mdxType:"OpenApiEndpoint"},"Get metadata about a domain by the given ID."),(0,o.kt)("h2",{id:"associate-a-domain-with-a-deployment"},"Associate a domain with a deployment"),(0,o.kt)(i.Z,{path:"/domains/{domainId}",method:"patch",mdxType:"OpenApiEndpoint"},"With this API endpoint, you can associate or disassociate a domain with a deployment. Domain association is required in order to serve the deployment on the domain."),(0,o.kt)("h2",{id:"delete-a-domain"},"Delete a domain"),(0,o.kt)(i.Z,{path:"/domains/{domainId}",method:"delete",mdxType:"OpenApiEndpoint"},"Delete a domain by the given ID."),(0,o.kt)("h2",{id:"verify-a-domain"},"Verify a domain"),(0,o.kt)(i.Z,{path:"/domains/{domainId}/verify",method:"post",mdxType:"OpenApiEndpoint"},"This API endpoint triggers the ownership verification of a domain. It should be called after necessary DNS records are properly set up."),(0,o.kt)("h2",{id:"upload-tls-certificate-for-a-domain"},"Upload TLS certificate for a domain"),(0,o.kt)(i.Z,{path:"/domains/{domainId}/certificates",method:"post",mdxType:"OpenApiEndpoint"},"Upload TLS certificates for your domain."),(0,o.kt)("h2",{id:"provision-tls-certificates-for-a-domain"},"Provision TLS certificates for a domain"),(0,o.kt)(i.Z,{path:"/domains/{domainId}/certificates/provision",method:"post",mdxType:"OpenApiEndpoint"},"Provision TLS certificates for your domain."))}u.isMDXComponent=!0},36141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var a=n(67294),o=n(93605),i=n.n(o),l=n(34673),r=n(74866),s=n(85162),d=n(9980),m=n.n(d),c=n(25108);const p=m()({html:!0});function u(e){return a.createElement("div",{dangerouslySetInnerHTML:{__html:p.render(e||"").trim()}})}let h=null;function y(e){let{method:t,path:n}=e;const o={display:"inline-block",color:"#fff",fontWeight:"bold",fontSize:"1em",padding:"0 6px",backgroundColor:"#4DACDB",margin:"0 10px 10px 0",borderRadius:"4px"};switch(t){case"put":case"patch":case"post":o.backgroundColor="#82CC4D";break;case"delete":o.backgroundColor="#FA402C"}return a.createElement("div",null,a.createElement("span",{style:o},t.toUpperCase()),a.createElement("code",{style:{display:"inline-block",padding:"0 6px",fontSize:"1em"}},"/v1"+n))}function f(e){let{apiDef:t,customDocs:n}=e;const o=[];return t.parameters.forEach((e=>{const t=n[e.name]?n[e.name]:e.description||"";o.push(a.createElement("tr",{key:e.name},a.createElement("td",null,a.createElement("code",{style:{whiteSpace:"nowrap"}},e.name,e.required?" (required)":"")),a.createElement("td",null,a.createElement("code",{style:{whiteSpace:"nowrap"}},`${e.schema.type}${e.schema.format?` (${e.schema.format})`:""}`)),a.createElement("td",null,u(t))))})),a.createElement(l.Z,{summary:"Parameters"},a.createElement("table",{style:{width:"100%"}},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Type"),a.createElement("th",null,"Description")),o)))}function E(e){let{apiDef:t,customDocs:n}=e;const o=t.requestBody.content["application/json"].schema,i=[];return Object.keys(o.properties).forEach((e=>{const t=o.properties[e],l=n[e]?n[e]:t.description||"";i.push(a.createElement("tr",{key:e},a.createElement("td",null,a.createElement("code",{style:{whiteSpace:"nowrap"}},e,t.nullable?" (nullable)":"")),a.createElement("td",null,t.type?a.createElement("code",{style:{whiteSpace:"nowrap"}},`${t.type} ${t.format?`(${t.format})`:""}`):a.createElement("code",null,"object")),a.createElement("td",null,u(l))))})),a.createElement(a.Fragment,null,a.createElement(l.Z,{summary:"Request Body (JSON)"},a.createElement("table",{style:{width:"100%"}},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Type"),a.createElement("th",null,"Description")),i)),o.example?a.createElement(a.Fragment,null,a.createElement("h5",null,"Example Body"),a.createElement("pre",{style:{maxHeight:"300px"}},a.createElement("code",null,JSON.stringify(o.example,null,2)))):""))}function g(e){let{apiDef:t,customDocs:n}=e;const o=[];return Object.keys(t.responses).forEach((e=>{const i=t.responses[e];let l=null;const r=[];if(i.content&&i.content["application/json"]){let e=i.content["application/json"].schema,{properties:t,example:o}=e;!t&&e.allOf?e.allOf.forEach((e=>{e.properties&&(t=e.properties)})):"array"===e.type&&(e.items.allOf?e.items.allOf.forEach((e=>{e.properties&&(t=e.properties)})):t=e.items.properties),l=o&&e.type&&"array"===e.type?[o]:o,Object.keys(t).forEach((e=>{const o=t[e],i=n[e]?n[e]:o.description||"";r.push(a.createElement("tr",{key:e},a.createElement("td",null,a.createElement("code",{style:{whiteSpace:"nowrap"}},e)),a.createElement("td",null,a.createElement("code",{style:{whiteSpace:"nowrap"}},`${o.type} ${o.format?`(${o.format})`:""}`)),a.createElement("td",null,u(i))))}))}o.push(a.createElement(s.Z,{key:e,value:e,label:e,attributes:{style:{fontSize:"14px"}}},a.createElement("h5",null,"Response Type"),a.createElement("p",null,i.description),r.length>0?a.createElement(a.Fragment,null,a.createElement("h5",null,"Content Type"),a.createElement("p",null,a.createElement("code",null,"application/json")),a.createElement("h5",null,"Response Properties"),a.createElement("table",null,a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",null,"Name"),a.createElement("th",null,"Type"),a.createElement("th",null,"Description")),r))):"Empty response body",l?a.createElement(a.Fragment,null,a.createElement("h5",null,"Example"),a.createElement("pre",{style:{maxHeight:"300px"}},a.createElement("code",null,JSON.stringify(l,null,2)))):""))})),a.createElement(l.Z,{summary:"Responses"},a.createElement(r.Z,null,o))}function v(e){let{method:t,path:n,apiDef:o,customDocs:i,children:l}=e;return a.createElement(a.Fragment,null,a.createElement(y,{method:t,path:n}),a.createElement("div",{style:{margin:"10px 0"}},l||u(o.description)),o.parameters&&o.parameters.length>0?a.createElement(f,{apiDef:o,customDocs:i}):"",o.requestBody?a.createElement(E,{apiDef:o,customDocs:i}):"",o.responses?a.createElement(g,{apiDef:o,customDocs:i}):"")}function k(e){let{path:t,method:n,customDocs:o,children:l}=e;const[r,s]=(0,a.useState)(h);if((0,a.useEffect)((async()=>{if(!r)try{h=await i().validate("/openapi.json"),c.log("Loaded: %s, Version: %s",h.info.title,h.info.version),s(h)}catch(e){c.error(e)}}),[]),!r)return a.createElement(a.Fragment,null);const d=r.paths[t][n];return a.createElement(v,{path:t,method:n,apiDef:d,customDocs:o||{}},l||"")}},6498:()=>{},24654:()=>{},52361:()=>{},94616:()=>{}}]);